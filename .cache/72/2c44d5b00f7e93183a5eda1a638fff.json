{"id":"UVcd","dependencies":[{"name":"D:\\fh\\my\\bfe-task\\fed-e-task-03-01\\codes\\02\\vue-mvvm-demo\\.babelrc","includedInParent":true,"mtime":1596981322618},{"name":"D:\\fh\\my\\bfe-task\\fed-e-task-03-01\\codes\\02\\vue-mvvm-demo\\package.json","includedInParent":true,"mtime":1596982695410},{"name":"./watcher","loc":{"line":1,"column":20},"parent":"D:\\fh\\my\\bfe-task\\fed-e-task-03-01\\codes\\02\\vue-mvvm-demo\\src\\compile.js","resolved":"D:\\fh\\my\\bfe-task\\fed-e-task-03-01\\codes\\02\\vue-mvvm-demo\\src\\watcher.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=t(require(\"./watcher\"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var o=function(){function t(e){n(this,t),this.el=e.$el,this.vm=e,this.compile(this.el)}return r(t,[{key:\"compile\",value:function(e){var t=this,n=e.childNodes;Array.from(n).forEach(function(e){t.isTextNode(e)?t.compileText(e):t.isElementNode(e)&&t.compileElement(e),e.childNodes&&e.childNodes.length&&t.compile(e)})}},{key:\"compileElement\",value:function(e){var t=this;Array.from(e.attributes).forEach(function(n){var i=n.name;if(t.isDirective(i)){i=i.substr(2);var r=n.value;t.update(e,r,i)}})}},{key:\"compileText\",value:function(t){var n=/\\{\\{(.+?)\\}\\}/,i=t.textContent;if(n.test(i)){var r=RegExp.$1.trim();t.textContent=i.replace(n,this.vm[r]),new e.default(this.vm,r,function(e){t.textContent=e})}}},{key:\"update\",value:function(e,t,n){if(this.isEventDirective(n))this.eventUpdater.call(this,e,t,n);else{var i=this[n+\"Updater\"];i&&i.call(this,e,this.vm[t],t)}}},{key:\"textUpdater\",value:function(t,n,i){t.textContent=n,new e.default(this.vm,i,function(e){t.textContent=e})}},{key:\"htmlUpdater\",value:function(e,t,n){console.log(e,t,n),e.innerHTML=t}},{key:\"modelUpdater\",value:function(t,n,i){var r=this;t.value=n,new e.default(this.vm,i,function(e){t.value=e}),t.addEventListener(\"input\",function(){r.vm[i]=t.value})}},{key:\"eventUpdater\",value:function(e,t,n){var i=n.split(\":\")[1],r=this.vm[t];i&&r&&e.addEventListener(i,r.bind(this.vm),!1)}},{key:\"isDirective\",value:function(e){return e.startsWith(\"v-\")}},{key:\"isEventDirective\",value:function(e){return 0===e.indexOf(\"on:\")}},{key:\"isTextNode\",value:function(e){return 3===e.nodeType}},{key:\"isElementNode\",value:function(e){return 1===e.nodeType}}]),t}();exports.default=o;"},"sourceMaps":{"js":{"mappings":[{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":0}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":13}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":20}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":35}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":43}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":56}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":57}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":64}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":68}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":76}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":89}},{"source":"src/compile.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"src/compile.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"src/compile.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"src/compile.js","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"src/compile.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":121}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":130}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":132}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":135}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":142}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":145}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":147}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":158}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":160}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":161}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":169}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":172}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":181}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":183}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":185}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":188}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":193}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":206}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":209}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":215}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":219}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":229}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":266}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":275}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":277}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":279}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":282}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":286}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":290}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":292}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":294}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":296}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":298}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":305}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":309}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":310}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":314}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":316}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":318}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":321}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":323}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":334}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":336}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":349}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":351}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":353}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":367}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":369}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":379}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":383}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":385}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":395}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":398}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":405}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":420}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":422}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":424}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":428}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":432}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":441}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":443}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":445}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":447}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":450}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":457}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":460}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":462}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":464}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":474}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":477}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":480}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":482}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":484}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":487}},{"source":"src/compile.js","name":"Compile","original":{"line":3,"column":21},"generated":{"line":1,"column":489}},{"source":"src/compile.js","name":"Compile","original":{"line":3,"column":21},"generated":{"line":1,"column":493}},{"source":"src/compile.js","name":"Compile","original":{"line":3,"column":21},"generated":{"line":1,"column":495}},{"source":"src/compile.js","name":"vm","original":{"line":4,"column":16},"generated":{"line":1,"column":506}},{"source":"src/compile.js","name":"vm","original":{"line":4,"column":16},"generated":{"line":1,"column":515}},{"source":"src/compile.js","name":"vm","original":{"line":4,"column":16},"generated":{"line":1,"column":517}},{"source":"src/compile.js","original":{"line":4,"column":20},"generated":{"line":1,"column":520}},{"source":"src/compile.js","original":{"line":4,"column":20},"generated":{"line":1,"column":522}},{"source":"src/compile.js","original":{"line":4,"column":20},"generated":{"line":1,"column":527}},{"source":"src/compile.js","name":"el","original":{"line":5,"column":13},"generated":{"line":1,"column":530}},{"source":"src/compile.js","name":"el","original":{"line":5,"column":13},"generated":{"line":1,"column":535}},{"source":"src/compile.js","name":"vm","original":{"line":5,"column":18},"generated":{"line":1,"column":538}},{"source":"src/compile.js","name":"$el","original":{"line":5,"column":21},"generated":{"line":1,"column":540}},{"source":"src/compile.js","name":"vm","original":{"line":6,"column":13},"generated":{"line":1,"column":544}},{"source":"src/compile.js","name":"vm","original":{"line":6,"column":13},"generated":{"line":1,"column":549}},{"source":"src/compile.js","name":"vm","original":{"line":6,"column":18},"generated":{"line":1,"column":552}},{"source":"src/compile.js","name":"compile","original":{"line":7,"column":13},"generated":{"line":1,"column":554}},{"source":"src/compile.js","name":"compile","original":{"line":7,"column":13},"generated":{"line":1,"column":559}},{"source":"src/compile.js","original":{"line":7,"column":21},"generated":{"line":1,"column":567}},{"source":"src/compile.js","name":"el","original":{"line":7,"column":26},"generated":{"line":1,"column":572}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":576}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":583}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":585}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":587}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":588}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":589}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":593}},{"source":"src/compile.js","name":"el","original":{"line":10,"column":12},"generated":{"line":1,"column":603}},{"source":"src/compile.js","name":"el","original":{"line":10,"column":12},"generated":{"line":1,"column":609}},{"source":"src/compile.js","name":"el","original":{"line":10,"column":12},"generated":{"line":1,"column":618}},{"source":"src/compile.js","original":{"line":10,"column":16},"generated":{"line":1,"column":621}},{"source":"src/compile.js","original":{"line":10,"column":16},"generated":{"line":1,"column":625}},{"source":"src/compile.js","original":{"line":10,"column":16},"generated":{"line":1,"column":627}},{"source":"src/compile.js","name":"childNodes","original":{"line":11,"column":12},"generated":{"line":1,"column":632}},{"source":"src/compile.js","name":"el","original":{"line":11,"column":25},"generated":{"line":1,"column":634}},{"source":"src/compile.js","name":"childNodes","original":{"line":11,"column":28},"generated":{"line":1,"column":636}},{"source":"src/compile.js","name":"Array","original":{"line":12,"column":8},"generated":{"line":1,"column":647}},{"source":"src/compile.js","name":"from","original":{"line":12,"column":14},"generated":{"line":1,"column":653}},{"source":"src/compile.js","name":"childNodes","original":{"line":12,"column":19},"generated":{"line":1,"column":658}},{"source":"src/compile.js","name":"forEach","original":{"line":12,"column":31},"generated":{"line":1,"column":661}},{"source":"src/compile.js","original":{"line":12,"column":39},"generated":{"line":1,"column":669}},{"source":"src/compile.js","name":"node","original":{"line":12,"column":39},"generated":{"line":1,"column":678}},{"source":"src/compile.js","original":{"line":14,"column":16},"generated":{"line":1,"column":681}},{"source":"src/compile.js","name":"isTextNode","original":{"line":14,"column":21},"generated":{"line":1,"column":683}},{"source":"src/compile.js","name":"node","original":{"line":14,"column":32},"generated":{"line":1,"column":694}},{"source":"src/compile.js","original":{"line":15,"column":16},"generated":{"line":1,"column":697}},{"source":"src/compile.js","name":"compileText","original":{"line":15,"column":21},"generated":{"line":1,"column":699}},{"source":"src/compile.js","name":"node","original":{"line":15,"column":33},"generated":{"line":1,"column":711}},{"source":"src/compile.js","original":{"line":16,"column":23},"generated":{"line":1,"column":714}},{"source":"src/compile.js","name":"isElementNode","original":{"line":16,"column":28},"generated":{"line":1,"column":716}},{"source":"src/compile.js","name":"node","original":{"line":16,"column":42},"generated":{"line":1,"column":730}},{"source":"src/compile.js","original":{"line":18,"column":16},"generated":{"line":1,"column":734}},{"source":"src/compile.js","name":"compileElement","original":{"line":18,"column":21},"generated":{"line":1,"column":736}},{"source":"src/compile.js","name":"node","original":{"line":18,"column":36},"generated":{"line":1,"column":751}},{"source":"src/compile.js","name":"node","original":{"line":22,"column":16},"generated":{"line":1,"column":754}},{"source":"src/compile.js","name":"childNodes","original":{"line":22,"column":21},"generated":{"line":1,"column":756}},{"source":"src/compile.js","name":"node","original":{"line":22,"column":35},"generated":{"line":1,"column":768}},{"source":"src/compile.js","name":"childNodes","original":{"line":22,"column":40},"generated":{"line":1,"column":770}},{"source":"src/compile.js","name":"length","original":{"line":22,"column":51},"generated":{"line":1,"column":781}},{"source":"src/compile.js","original":{"line":23,"column":16},"generated":{"line":1,"column":789}},{"source":"src/compile.js","name":"compile","original":{"line":23,"column":21},"generated":{"line":1,"column":791}},{"source":"src/compile.js","name":"node","original":{"line":23,"column":29},"generated":{"line":1,"column":799}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":806}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":807}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":811}},{"source":"src/compile.js","name":"node","original":{"line":29,"column":19},"generated":{"line":1,"column":828}},{"source":"src/compile.js","name":"node","original":{"line":29,"column":19},"generated":{"line":1,"column":834}},{"source":"src/compile.js","name":"node","original":{"line":29,"column":19},"generated":{"line":1,"column":843}},{"source":"src/compile.js","original":{"line":29,"column":25},"generated":{"line":1,"column":846}},{"source":"src/compile.js","original":{"line":29,"column":25},"generated":{"line":1,"column":850}},{"source":"src/compile.js","original":{"line":29,"column":25},"generated":{"line":1,"column":852}},{"source":"src/compile.js","name":"Array","original":{"line":32,"column":8},"generated":{"line":1,"column":857}},{"source":"src/compile.js","name":"from","original":{"line":32,"column":14},"generated":{"line":1,"column":863}},{"source":"src/compile.js","name":"node","original":{"line":32,"column":19},"generated":{"line":1,"column":868}},{"source":"src/compile.js","name":"attributes","original":{"line":32,"column":24},"generated":{"line":1,"column":870}},{"source":"src/compile.js","name":"forEach","original":{"line":32,"column":36},"generated":{"line":1,"column":882}},{"source":"src/compile.js","original":{"line":32,"column":44},"generated":{"line":1,"column":890}},{"source":"src/compile.js","name":"attr","original":{"line":32,"column":44},"generated":{"line":1,"column":899}},{"source":"src/compile.js","name":"attrName","original":{"line":34,"column":16},"generated":{"line":1,"column":902}},{"source":"src/compile.js","name":"attrName","original":{"line":34,"column":16},"generated":{"line":1,"column":906}},{"source":"src/compile.js","name":"attr","original":{"line":34,"column":27},"generated":{"line":1,"column":908}},{"source":"src/compile.js","name":"name","original":{"line":34,"column":32},"generated":{"line":1,"column":910}},{"source":"src/compile.js","original":{"line":35,"column":16},"generated":{"line":1,"column":915}},{"source":"src/compile.js","original":{"line":35,"column":16},"generated":{"line":1,"column":918}},{"source":"src/compile.js","name":"isDirective","original":{"line":35,"column":21},"generated":{"line":1,"column":920}},{"source":"src/compile.js","name":"attrName","original":{"line":35,"column":33},"generated":{"line":1,"column":932}},{"source":"src/compile.js","original":{"line":35,"column":44},"generated":{"line":1,"column":935}},{"source":"src/compile.js","name":"attrName","original":{"line":37,"column":16},"generated":{"line":1,"column":936}},{"source":"src/compile.js","name":"attrName","original":{"line":37,"column":27},"generated":{"line":1,"column":938}},{"source":"src/compile.js","name":"substr","original":{"line":37,"column":36},"generated":{"line":1,"column":940}},{"source":"src/compile.js","original":{"line":37,"column":43},"generated":{"line":1,"column":947}},{"source":"src/compile.js","name":"key","original":{"line":38,"column":20},"generated":{"line":1,"column":950}},{"source":"src/compile.js","name":"key","original":{"line":38,"column":20},"generated":{"line":1,"column":954}},{"source":"src/compile.js","name":"attr","original":{"line":38,"column":26},"generated":{"line":1,"column":956}},{"source":"src/compile.js","name":"value","original":{"line":38,"column":31},"generated":{"line":1,"column":958}},{"source":"src/compile.js","original":{"line":39,"column":16},"generated":{"line":1,"column":964}},{"source":"src/compile.js","name":"update","original":{"line":39,"column":21},"generated":{"line":1,"column":966}},{"source":"src/compile.js","name":"node","original":{"line":39,"column":28},"generated":{"line":1,"column":973}},{"source":"src/compile.js","name":"key","original":{"line":39,"column":34},"generated":{"line":1,"column":975}},{"source":"src/compile.js","name":"attrName","original":{"line":39,"column":39},"generated":{"line":1,"column":977}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":985}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":986}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":990}},{"source":"src/compile.js","name":"node","original":{"line":45,"column":16},"generated":{"line":1,"column":1004}},{"source":"src/compile.js","name":"node","original":{"line":45,"column":16},"generated":{"line":1,"column":1010}},{"source":"src/compile.js","name":"node","original":{"line":45,"column":16},"generated":{"line":1,"column":1019}},{"source":"src/compile.js","name":"reg","original":{"line":48,"column":12},"generated":{"line":1,"column":1022}},{"source":"src/compile.js","name":"reg","original":{"line":48,"column":12},"generated":{"line":1,"column":1026}},{"source":"src/compile.js","original":{"line":48,"column":18},"generated":{"line":1,"column":1028}},{"source":"src/compile.js","name":"value","original":{"line":49,"column":12},"generated":{"line":1,"column":1044}},{"source":"src/compile.js","name":"node","original":{"line":49,"column":20},"generated":{"line":1,"column":1046}},{"source":"src/compile.js","name":"textContent","original":{"line":49,"column":25},"generated":{"line":1,"column":1048}},{"source":"src/compile.js","name":"reg","original":{"line":50,"column":12},"generated":{"line":1,"column":1060}},{"source":"src/compile.js","name":"reg","original":{"line":50,"column":12},"generated":{"line":1,"column":1063}},{"source":"src/compile.js","name":"test","original":{"line":50,"column":16},"generated":{"line":1,"column":1065}},{"source":"src/compile.js","name":"value","original":{"line":50,"column":21},"generated":{"line":1,"column":1070}},{"source":"src/compile.js","original":{"line":50,"column":29},"generated":{"line":1,"column":1073}},{"source":"src/compile.js","name":"key","original":{"line":51,"column":16},"generated":{"line":1,"column":1074}},{"source":"src/compile.js","name":"key","original":{"line":51,"column":16},"generated":{"line":1,"column":1078}},{"source":"src/compile.js","name":"RegExp","original":{"line":51,"column":22},"generated":{"line":1,"column":1080}},{"source":"src/compile.js","name":"$1","original":{"line":51,"column":29},"generated":{"line":1,"column":1087}},{"source":"src/compile.js","name":"trim","original":{"line":51,"column":32},"generated":{"line":1,"column":1090}},{"source":"src/compile.js","name":"node","original":{"line":52,"column":12},"generated":{"line":1,"column":1097}},{"source":"src/compile.js","name":"textContent","original":{"line":52,"column":17},"generated":{"line":1,"column":1099}},{"source":"src/compile.js","name":"value","original":{"line":52,"column":31},"generated":{"line":1,"column":1111}},{"source":"src/compile.js","name":"replace","original":{"line":52,"column":37},"generated":{"line":1,"column":1113}},{"source":"src/compile.js","name":"reg","original":{"line":52,"column":45},"generated":{"line":1,"column":1121}},{"source":"src/compile.js","original":{"line":52,"column":50},"generated":{"line":1,"column":1123}},{"source":"src/compile.js","name":"vm","original":{"line":52,"column":55},"generated":{"line":1,"column":1128}},{"source":"src/compile.js","name":"key","original":{"line":52,"column":58},"generated":{"line":1,"column":1131}},{"source":"src/compile.js","name":"Watcher","original":{"line":55,"column":16},"generated":{"line":1,"column":1135}},{"source":"src/compile.js","name":"Watcher","original":{"line":55,"column":16},"generated":{"line":1,"column":1139}},{"source":"src/compile.js","original":{"line":55,"column":12},"generated":{"line":1,"column":1141}},{"source":"src/compile.js","original":{"line":55,"column":24},"generated":{"line":1,"column":1149}},{"source":"src/compile.js","name":"vm","original":{"line":55,"column":29},"generated":{"line":1,"column":1154}},{"source":"src/compile.js","name":"key","original":{"line":55,"column":33},"generated":{"line":1,"column":1157}},{"source":"src/compile.js","original":{"line":55,"column":38},"generated":{"line":1,"column":1159}},{"source":"src/compile.js","name":"newValue","original":{"line":55,"column":39},"generated":{"line":1,"column":1168}},{"source":"src/compile.js","name":"node","original":{"line":56,"column":16},"generated":{"line":1,"column":1171}},{"source":"src/compile.js","name":"textContent","original":{"line":56,"column":21},"generated":{"line":1,"column":1173}},{"source":"src/compile.js","name":"newValue","original":{"line":56,"column":35},"generated":{"line":1,"column":1185}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1192}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1193}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1197}},{"source":"src/compile.js","name":"node","original":{"line":61,"column":11},"generated":{"line":1,"column":1206}},{"source":"src/compile.js","name":"node","original":{"line":61,"column":11},"generated":{"line":1,"column":1212}},{"source":"src/compile.js","name":"node","original":{"line":61,"column":11},"generated":{"line":1,"column":1221}},{"source":"src/compile.js","name":"key","original":{"line":61,"column":17},"generated":{"line":1,"column":1223}},{"source":"src/compile.js","name":"attrName","original":{"line":61,"column":22},"generated":{"line":1,"column":1225}},{"source":"src/compile.js","original":{"line":62,"column":11},"generated":{"line":1,"column":1228}},{"source":"src/compile.js","original":{"line":62,"column":11},"generated":{"line":1,"column":1231}},{"source":"src/compile.js","name":"isEventDirective","original":{"line":62,"column":16},"generated":{"line":1,"column":1236}},{"source":"src/compile.js","name":"attrName","original":{"line":62,"column":33},"generated":{"line":1,"column":1253}},{"source":"src/compile.js","name":"eventUpdater","original":{"line":63,"column":17},"generated":{"line":1,"column":1256}},{"source":"src/compile.js","name":"eventUpdater","original":{"line":63,"column":17},"generated":{"line":1,"column":1261}},{"source":"src/compile.js","name":"call","original":{"line":63,"column":30},"generated":{"line":1,"column":1274}},{"source":"src/compile.js","original":{"line":63,"column":35},"generated":{"line":1,"column":1279}},{"source":"src/compile.js","name":"node","original":{"line":63,"column":41},"generated":{"line":1,"column":1284}},{"source":"src/compile.js","name":"key","original":{"line":63,"column":47},"generated":{"line":1,"column":1286}},{"source":"src/compile.js","name":"attrName","original":{"line":63,"column":52},"generated":{"line":1,"column":1288}},{"source":"src/compile.js","original":{"line":62,"column":11},"generated":{"line":1,"column":1295}},{"source":"src/compile.js","name":"updateFn","original":{"line":67,"column":12},"generated":{"line":1,"column":1296}},{"source":"src/compile.js","name":"updateFn","original":{"line":67,"column":12},"generated":{"line":1,"column":1300}},{"source":"src/compile.js","original":{"line":67,"column":23},"generated":{"line":1,"column":1302}},{"source":"src/compile.js","name":"attrName","original":{"line":67,"column":28},"generated":{"line":1,"column":1307}},{"source":"src/compile.js","original":{"line":67,"column":39},"generated":{"line":1,"column":1309}},{"source":"src/compile.js","name":"updateFn","original":{"line":68,"column":8},"generated":{"line":1,"column":1320}},{"source":"src/compile.js","name":"updateFn","original":{"line":68,"column":20},"generated":{"line":1,"column":1323}},{"source":"src/compile.js","name":"call","original":{"line":68,"column":29},"generated":{"line":1,"column":1325}},{"source":"src/compile.js","original":{"line":68,"column":34},"generated":{"line":1,"column":1330}},{"source":"src/compile.js","name":"node","original":{"line":68,"column":40},"generated":{"line":1,"column":1335}},{"source":"src/compile.js","original":{"line":68,"column":46},"generated":{"line":1,"column":1337}},{"source":"src/compile.js","name":"vm","original":{"line":68,"column":51},"generated":{"line":1,"column":1342}},{"source":"src/compile.js","name":"key","original":{"line":68,"column":54},"generated":{"line":1,"column":1345}},{"source":"src/compile.js","name":"key","original":{"line":68,"column":60},"generated":{"line":1,"column":1348}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1354}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1355}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1359}},{"source":"src/compile.js","name":"node","original":{"line":72,"column":16},"generated":{"line":1,"column":1373}},{"source":"src/compile.js","name":"node","original":{"line":72,"column":16},"generated":{"line":1,"column":1379}},{"source":"src/compile.js","name":"node","original":{"line":72,"column":16},"generated":{"line":1,"column":1388}},{"source":"src/compile.js","name":"value","original":{"line":72,"column":22},"generated":{"line":1,"column":1390}},{"source":"src/compile.js","name":"key","original":{"line":72,"column":29},"generated":{"line":1,"column":1392}},{"source":"src/compile.js","name":"node","original":{"line":73,"column":8},"generated":{"line":1,"column":1395}},{"source":"src/compile.js","name":"textContent","original":{"line":73,"column":13},"generated":{"line":1,"column":1397}},{"source":"src/compile.js","name":"value","original":{"line":73,"column":27},"generated":{"line":1,"column":1409}},{"source":"src/compile.js","name":"Watcher","original":{"line":74,"column":12},"generated":{"line":1,"column":1411}},{"source":"src/compile.js","name":"Watcher","original":{"line":74,"column":12},"generated":{"line":1,"column":1415}},{"source":"src/compile.js","original":{"line":74,"column":8},"generated":{"line":1,"column":1417}},{"source":"src/compile.js","original":{"line":74,"column":20},"generated":{"line":1,"column":1425}},{"source":"src/compile.js","name":"vm","original":{"line":74,"column":25},"generated":{"line":1,"column":1430}},{"source":"src/compile.js","name":"key","original":{"line":74,"column":29},"generated":{"line":1,"column":1433}},{"source":"src/compile.js","original":{"line":74,"column":34},"generated":{"line":1,"column":1435}},{"source":"src/compile.js","name":"newValue","original":{"line":74,"column":35},"generated":{"line":1,"column":1444}},{"source":"src/compile.js","name":"node","original":{"line":75,"column":12},"generated":{"line":1,"column":1447}},{"source":"src/compile.js","name":"textContent","original":{"line":75,"column":17},"generated":{"line":1,"column":1449}},{"source":"src/compile.js","name":"newValue","original":{"line":75,"column":31},"generated":{"line":1,"column":1461}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1467}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1468}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1472}},{"source":"src/compile.js","name":"node","original":{"line":78,"column":16},"generated":{"line":1,"column":1486}},{"source":"src/compile.js","name":"node","original":{"line":78,"column":16},"generated":{"line":1,"column":1492}},{"source":"src/compile.js","name":"node","original":{"line":78,"column":16},"generated":{"line":1,"column":1501}},{"source":"src/compile.js","name":"value","original":{"line":78,"column":22},"generated":{"line":1,"column":1503}},{"source":"src/compile.js","name":"key","original":{"line":78,"column":29},"generated":{"line":1,"column":1505}},{"source":"src/compile.js","name":"console","original":{"line":79,"column":8},"generated":{"line":1,"column":1508}},{"source":"src/compile.js","name":"log","original":{"line":79,"column":16},"generated":{"line":1,"column":1516}},{"source":"src/compile.js","name":"node","original":{"line":79,"column":20},"generated":{"line":1,"column":1520}},{"source":"src/compile.js","name":"value","original":{"line":79,"column":26},"generated":{"line":1,"column":1522}},{"source":"src/compile.js","name":"key","original":{"line":79,"column":33},"generated":{"line":1,"column":1524}},{"source":"src/compile.js","name":"node","original":{"line":80,"column":8},"generated":{"line":1,"column":1527}},{"source":"src/compile.js","name":"innerHTML","original":{"line":80,"column":13},"generated":{"line":1,"column":1529}},{"source":"src/compile.js","name":"value","original":{"line":80,"column":25},"generated":{"line":1,"column":1539}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1543}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1544}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1548}},{"source":"src/compile.js","name":"node","original":{"line":83,"column":17},"generated":{"line":1,"column":1563}},{"source":"src/compile.js","name":"node","original":{"line":83,"column":17},"generated":{"line":1,"column":1569}},{"source":"src/compile.js","name":"node","original":{"line":83,"column":17},"generated":{"line":1,"column":1578}},{"source":"src/compile.js","name":"value","original":{"line":83,"column":23},"generated":{"line":1,"column":1580}},{"source":"src/compile.js","name":"key","original":{"line":83,"column":30},"generated":{"line":1,"column":1582}},{"source":"src/compile.js","original":{"line":83,"column":35},"generated":{"line":1,"column":1585}},{"source":"src/compile.js","original":{"line":83,"column":35},"generated":{"line":1,"column":1589}},{"source":"src/compile.js","original":{"line":83,"column":35},"generated":{"line":1,"column":1591}},{"source":"src/compile.js","name":"node","original":{"line":84,"column":8},"generated":{"line":1,"column":1596}},{"source":"src/compile.js","name":"value","original":{"line":84,"column":13},"generated":{"line":1,"column":1598}},{"source":"src/compile.js","name":"value","original":{"line":84,"column":21},"generated":{"line":1,"column":1604}},{"source":"src/compile.js","name":"Watcher","original":{"line":85,"column":12},"generated":{"line":1,"column":1606}},{"source":"src/compile.js","name":"Watcher","original":{"line":85,"column":12},"generated":{"line":1,"column":1610}},{"source":"src/compile.js","original":{"line":85,"column":8},"generated":{"line":1,"column":1612}},{"source":"src/compile.js","original":{"line":85,"column":20},"generated":{"line":1,"column":1620}},{"source":"src/compile.js","name":"vm","original":{"line":85,"column":25},"generated":{"line":1,"column":1625}},{"source":"src/compile.js","name":"key","original":{"line":85,"column":29},"generated":{"line":1,"column":1628}},{"source":"src/compile.js","original":{"line":85,"column":34},"generated":{"line":1,"column":1630}},{"source":"src/compile.js","name":"newValue","original":{"line":85,"column":35},"generated":{"line":1,"column":1639}},{"source":"src/compile.js","name":"node","original":{"line":86,"column":12},"generated":{"line":1,"column":1642}},{"source":"src/compile.js","name":"value","original":{"line":86,"column":17},"generated":{"line":1,"column":1644}},{"source":"src/compile.js","name":"newValue","original":{"line":86,"column":25},"generated":{"line":1,"column":1650}},{"source":"src/compile.js","name":"node","original":{"line":89,"column":8},"generated":{"line":1,"column":1654}},{"source":"src/compile.js","name":"addEventListener","original":{"line":89,"column":13},"generated":{"line":1,"column":1656}},{"source":"src/compile.js","original":{"line":89,"column":30},"generated":{"line":1,"column":1673}},{"source":"src/compile.js","original":{"line":89,"column":39},"generated":{"line":1,"column":1681}},{"source":"src/compile.js","original":{"line":90,"column":12},"generated":{"line":1,"column":1692}},{"source":"src/compile.js","name":"vm","original":{"line":90,"column":17},"generated":{"line":1,"column":1694}},{"source":"src/compile.js","name":"key","original":{"line":90,"column":20},"generated":{"line":1,"column":1697}},{"source":"src/compile.js","name":"node","original":{"line":90,"column":27},"generated":{"line":1,"column":1700}},{"source":"src/compile.js","name":"value","original":{"line":90,"column":32},"generated":{"line":1,"column":1702}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1712}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1713}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1717}},{"source":"src/compile.js","name":"node","original":{"line":94,"column":17},"generated":{"line":1,"column":1732}},{"source":"src/compile.js","name":"node","original":{"line":94,"column":17},"generated":{"line":1,"column":1738}},{"source":"src/compile.js","name":"node","original":{"line":94,"column":17},"generated":{"line":1,"column":1747}},{"source":"src/compile.js","name":"key","original":{"line":94,"column":23},"generated":{"line":1,"column":1749}},{"source":"src/compile.js","name":"attrName","original":{"line":94,"column":28},"generated":{"line":1,"column":1751}},{"source":"src/compile.js","name":"eventType","original":{"line":95,"column":12},"generated":{"line":1,"column":1754}},{"source":"src/compile.js","name":"eventType","original":{"line":95,"column":12},"generated":{"line":1,"column":1758}},{"source":"src/compile.js","name":"attrName","original":{"line":95,"column":24},"generated":{"line":1,"column":1760}},{"source":"src/compile.js","name":"split","original":{"line":95,"column":33},"generated":{"line":1,"column":1762}},{"source":"src/compile.js","original":{"line":95,"column":39},"generated":{"line":1,"column":1768}},{"source":"src/compile.js","original":{"line":95,"column":44},"generated":{"line":1,"column":1773}},{"source":"src/compile.js","name":"cb","original":{"line":96,"column":12},"generated":{"line":1,"column":1776}},{"source":"src/compile.js","original":{"line":96,"column":17},"generated":{"line":1,"column":1778}},{"source":"src/compile.js","name":"vm","original":{"line":96,"column":22},"generated":{"line":1,"column":1783}},{"source":"src/compile.js","name":"key","original":{"line":96,"column":25},"generated":{"line":1,"column":1786}},{"source":"src/compile.js","name":"eventType","original":{"line":98,"column":11},"generated":{"line":1,"column":1789}},{"source":"src/compile.js","name":"cb","original":{"line":98,"column":24},"generated":{"line":1,"column":1792}},{"source":"src/compile.js","name":"node","original":{"line":99,"column":12},"generated":{"line":1,"column":1795}},{"source":"src/compile.js","name":"addEventListener","original":{"line":99,"column":17},"generated":{"line":1,"column":1797}},{"source":"src/compile.js","name":"eventType","original":{"line":99,"column":34},"generated":{"line":1,"column":1814}},{"source":"src/compile.js","name":"cb","original":{"line":99,"column":45},"generated":{"line":1,"column":1816}},{"source":"src/compile.js","name":"bind","original":{"line":99,"column":48},"generated":{"line":1,"column":1818}},{"source":"src/compile.js","original":{"line":99,"column":53},"generated":{"line":1,"column":1823}},{"source":"src/compile.js","name":"vm","original":{"line":99,"column":58},"generated":{"line":1,"column":1828}},{"source":"src/compile.js","original":{"line":99,"column":63},"generated":{"line":1,"column":1833}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1838}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1839}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1843}},{"source":"src/compile.js","name":"attrName","original":{"line":104,"column":16},"generated":{"line":1,"column":1857}},{"source":"src/compile.js","name":"attrName","original":{"line":104,"column":16},"generated":{"line":1,"column":1863}},{"source":"src/compile.js","name":"attrName","original":{"line":104,"column":16},"generated":{"line":1,"column":1872}},{"source":"src/compile.js","name":"attrName","original":{"line":105,"column":15},"generated":{"line":1,"column":1875}},{"source":"src/compile.js","name":"attrName","original":{"line":105,"column":15},"generated":{"line":1,"column":1882}},{"source":"src/compile.js","name":"startsWith","original":{"line":105,"column":24},"generated":{"line":1,"column":1884}},{"source":"src/compile.js","original":{"line":105,"column":35},"generated":{"line":1,"column":1895}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1903}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1904}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1908}},{"source":"src/compile.js","name":"attrName","original":{"line":108,"column":21},"generated":{"line":1,"column":1927}},{"source":"src/compile.js","name":"attrName","original":{"line":108,"column":21},"generated":{"line":1,"column":1933}},{"source":"src/compile.js","name":"attrName","original":{"line":108,"column":21},"generated":{"line":1,"column":1942}},{"source":"src/compile.js","name":"attrName","original":{"line":109,"column":15},"generated":{"line":1,"column":1945}},{"source":"src/compile.js","original":{"line":109,"column":43},"generated":{"line":1,"column":1952}},{"source":"src/compile.js","name":"attrName","original":{"line":109,"column":15},"generated":{"line":1,"column":1956}},{"source":"src/compile.js","name":"indexOf","original":{"line":109,"column":24},"generated":{"line":1,"column":1958}},{"source":"src/compile.js","original":{"line":109,"column":32},"generated":{"line":1,"column":1966}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1975}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1976}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":1980}},{"source":"src/compile.js","name":"node","original":{"line":113,"column":15},"generated":{"line":1,"column":1993}},{"source":"src/compile.js","name":"node","original":{"line":113,"column":15},"generated":{"line":1,"column":1999}},{"source":"src/compile.js","name":"node","original":{"line":113,"column":15},"generated":{"line":1,"column":2008}},{"source":"src/compile.js","name":"node","original":{"line":114,"column":15},"generated":{"line":1,"column":2011}},{"source":"src/compile.js","original":{"line":114,"column":33},"generated":{"line":1,"column":2018}},{"source":"src/compile.js","name":"node","original":{"line":114,"column":15},"generated":{"line":1,"column":2022}},{"source":"src/compile.js","name":"nodeType","original":{"line":114,"column":20},"generated":{"line":1,"column":2024}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":2035}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":2036}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":2040}},{"source":"src/compile.js","name":"node","original":{"line":118,"column":18},"generated":{"line":1,"column":2056}},{"source":"src/compile.js","name":"node","original":{"line":118,"column":18},"generated":{"line":1,"column":2062}},{"source":"src/compile.js","name":"node","original":{"line":118,"column":18},"generated":{"line":1,"column":2071}},{"source":"src/compile.js","name":"node","original":{"line":119,"column":15},"generated":{"line":1,"column":2074}},{"source":"src/compile.js","original":{"line":119,"column":33},"generated":{"line":1,"column":2081}},{"source":"src/compile.js","name":"node","original":{"line":119,"column":15},"generated":{"line":1,"column":2085}},{"source":"src/compile.js","name":"nodeType","original":{"line":119,"column":20},"generated":{"line":1,"column":2087}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":2100}},{"source":"src/compile.js","name":"Compile","original":{"line":3,"column":21},"generated":{"line":1,"column":2102}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":2105}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":2113}},{"source":"src/compile.js","original":{"line":120,"column":5},"generated":{"line":1,"column":2121}}],"sources":{"src/compile.js":"import Watcher from './watcher'\r\n\r\nexport default class Compile {\r\n    constructor(vm) {\r\n        this.el = vm.$el;\r\n        this.vm = vm;\r\n        this.compile(this.el)\r\n    }\r\n\r\n    compile(el) {\r\n        let childNodes = el.childNodes\r\n        Array.from(childNodes).forEach(node => {\r\n            // 处理文本节点\r\n            if (this.isTextNode(node)) {\r\n                this.compileText(node)\r\n            } else if (this.isElementNode(node)) {\r\n                // 处理元素节点\r\n                this.compileElement(node)\r\n            }\r\n\r\n            // 判断node节点，是否有子节点，如果有子节点，要递归调用compile\r\n            if (node.childNodes && node.childNodes.length) {\r\n                this.compile(node)\r\n            }\r\n        })\r\n    }\r\n\r\n    // 编译元素节点，处理指令\r\n    compileElement(node) {\r\n        // console.log(node.attributes)\r\n        // 遍历所有的属性节点\r\n        Array.from(node.attributes).forEach(attr => {\r\n            // 判断是否是指令\r\n            let attrName = attr.name\r\n            if (this.isDirective(attrName)) {\r\n                // v-text --> text\r\n                attrName = attrName.substr(2)\r\n                let key = attr.value\r\n                this.update(node, key, attrName)\r\n            }\r\n        })\r\n    }\r\n\r\n    // 编译文本节点，处理差值表达式\r\n    compileText(node) {\r\n        // console.dir(node)\r\n        // {{  msg }}\r\n        let reg = /\\{\\{(.+?)\\}\\}/\r\n        let value = node.textContent\r\n        if (reg.test(value)) {\r\n            let key = RegExp.$1.trim()\r\n            node.textContent = value.replace(reg, this.vm[key])\r\n\r\n            // 创建watcher对象，当数据改变更新视图\r\n            new Watcher(this.vm, key, (newValue) => {\r\n                node.textContent = newValue\r\n            })\r\n        }\r\n    }\r\n\r\n    update(node, key, attrName) {\r\n        if(this.isEventDirective(attrName)){\r\n            this.eventUpdater.call(this, node, key, attrName)\r\n            return\r\n        }\r\n\r\n        let updateFn = this[attrName + 'Updater']\r\n        updateFn && updateFn.call(this, node, this.vm[key], key)\r\n    }\r\n\r\n    // 处理 v-text 指令\r\n    textUpdater(node, value, key) {\r\n        node.textContent = value\r\n        new Watcher(this.vm, key, (newValue) => {\r\n            node.textContent = newValue\r\n        })\r\n    }\r\n    htmlUpdater(node, value ,key){\r\n        console.log(node, value, key)\r\n        node.innerHTML = value\r\n    }\r\n    // v-model\r\n    modelUpdater(node, value, key) {\r\n        node.value = value\r\n        new Watcher(this.vm, key, (newValue) => {\r\n            node.value = newValue\r\n        })\r\n        // 双向绑定\r\n        node.addEventListener('input', () => {\r\n            this.vm[key] = node.value\r\n        })\r\n    }\r\n\r\n    eventUpdater(node, key, attrName){\r\n        let eventType = attrName.split(':')[1];\r\n        let cb = this.vm[key]\r\n        \r\n        if(eventType && cb){\r\n            node.addEventListener(eventType, cb.bind(this.vm), false)\r\n        }\r\n    }\r\n\r\n    // 判断元素属性是否是指令\r\n    isDirective(attrName) {\r\n        return attrName.startsWith('v-')\r\n    }\r\n\r\n    isEventDirective(attrName) {\r\n        return attrName.indexOf('on:') === 0;\r\n    }\r\n\r\n    // 判断节点是否是文本节点\r\n    isTextNode(node) {\r\n        return node.nodeType === 3\r\n    }\r\n\r\n    // 判断节点是否是元素节点\r\n    isElementNode(node) {\r\n        return node.nodeType === 1\r\n    }\r\n}"},"lineCount":null}},"error":null,"hash":"e4186dca5f1144162f1136920b4b54b1","cacheData":{"env":{}}}